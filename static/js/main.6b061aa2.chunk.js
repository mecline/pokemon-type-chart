(this["webpackJsonppokemon-app"]=this["webpackJsonppokemon-app"]||[]).push([[0],{352:function(e,t,a){e.exports=a(450)},357:function(e,t,a){},358:function(e,t,a){},450:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(15),o=a.n(s),i=(a(357),a(358),a(52)),c=a.n(i),u=a(98),p=a(174),l=a(175),m=a(197),h=a(195),f=a(316),g=a(474),d=a(318),y=a(337),k=a.n(y);function v(e,t,a){var n=e;return t.map((function(e){return a?(e.damageCalcs.double_damage_to.map((function(e){return b(n,e,2)})),e.damageCalcs.half_damage_to.map((function(e){return b(n,e,.5)})),e.damageCalcs.no_damage_to.map((function(e){return b(n,e,0)}))):(e.damageCalcs.double_damage_from.map((function(e){return b(n,e,2)})),e.damageCalcs.half_damage_from.map((function(e){return b(n,e,.5)})),e.damageCalcs.no_damage_from.map((function(e){return b(n,e,0)}))),e})),n}function b(e,t,a){var n=e.get(t.name)*a;return e.set(t.name,n),e}function C(e){var t=[],a=[],n=[];return e.forEach((function(e,r){2===e?t.push(r):.5===e?a.push(r):0===e&&n.push(r)})),[{doubleDamage:t.toString(),halfDamage:a.toString(),noDamage:n.toString()}]}var D=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).tableData={},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){e.typeChart!==this.props.typeChart&&(this.tableData=C(this.props.tableData))}},{key:"render",value:function(){var e=this.props.typeChart;return this.tableData=C(e),r.a.createElement("div",null,this.tableData&&r.a.createElement("div",{style:{maxWidth:"100%"}},r.a.createElement(k.a,{columns:[{title:"x2 Damage",field:"doubleDamage"},{title:"0.5 Damage",field:"halfDamage"},{title:"No Damage",field:"noDamage"}],data:this.tableData,title:"Type Matchups",options:{search:!1,sorting:!1,filtering:!1,grouping:!1,selection:!1,paging:!1}})))}}]),a}(r.a.Component),w=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).handleNameChange=function(t){var a=t.target.value;e.setState({editingUserPokemon:a})},e.handleNameSubmit=function(t){t.preventDefault();var a=e.state.editingUserPokemon;e.setState({userPokemon:a,loading:!0})},e.handleToggleOffense=function(){e.setState({offense:!e.state.offense,loading:!0})},e.typeInfoRef=r.a.createRef(),e.state={userPokemon:"pikachu",editingUserPokemon:"",offense:!0,loading:!0,pokemonName:null,pokemonImage:null,pokemonTypeOne:null,pokemonTypeTwo:null,errorMessage:""},e.typeChart=new Map,e.typingDamageCalcs=[],e.calculatedTypeChart=[],e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.fetchAPIPokemonAndTypes(),this.initTypeChart()]);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){this.state.loading&&(this.typingDamageCalcs=[],this.initTypeChart(),this.fetchAPIPokemonAndTypes())}},{key:"fetchAPIPokemonAndTypes",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.calculatedTypeChart=[],this.typingDamageCalcs=[],e.next=4,this.getPokemonData();case 4:return t=e.sent,e.next=7,Promise.all(t.types.map(function(){var e=Object(u.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getTypeMatch(t.type.url);case 2:return n=e.sent,a.typingDamageCalcs.push({type:n.name,damageCalcs:n.damage_relations}),e.abrupt("return",a.typingDamageCalcs);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:this.calculatedTypeChart=v(this.typeChart,this.typingDamageCalcs,this.state.offense),this.setState({loading:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initTypeChart",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,a,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://pokeapi.co/api/v2/type/",e.next=3,fetch("https://pokeapi.co/api/v2/type/");case 3:if(200!==(t=e.sent).status){e.next=11;break}return e.next=7,t.json();case 7:(a=e.sent)&&a.results.map((function(e){return n.typeChart.set(e.name,1)})),e.next=12;break;case 11:this.setState({errorMessage:"Type Chart Not Fetched"});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPokemonData",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://pokeapi.co/api/v2/pokemon/"+this.state.userPokemon+"/",e.next=3,fetch(t);case 3:if(200!==(a=e.sent).status){e.next=12;break}return e.next=7,a.json();case 7:return n=e.sent,this.setState({pokemonName:n.species.name,pokemonTypeOne:n.types[0],pokemonTypeTwo:n.types[1]?n.types[1]:null,pokemonImage:n.sprites,loading:!1,errorMessage:""}),e.abrupt("return",n);case 12:this.setState({errorMessage:"That Pokemon doesn't exist in the database, check spelling or choose one with similar typing."});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTypeMatch",value:function(){var e=Object(u.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,e.next=3,fetch(a);case 3:if(200!==(n=e.sent).status){e.next=11;break}return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:this.setState({errorMessage:"An error occured when fetching type matchups."});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.pokemonTypeOne,t=this.state.pokemonTypeTwo;return r.a.createElement("div",{style:{padding:"10px",textAlign:"center"}},r.a.createElement(g.a,null,r.a.createElement(f.a,{className:"userInput",variant:"outlined",value:this.state.editingUserPokemon,onChange:this.handleNameChange}),r.a.createElement(d.a,{onClick:this.handleNameSubmit},"Submit"),r.a.createElement(d.a,{onClick:this.handleToggleOffense},this.state.offense?"Showing Offense":"Showing Defense")),r.a.createElement(r.a.Fragment,null,this.state.errorMessage?this.state.errorMessage:r.a.createElement("div",{className:"formInline"},this.state.loading?"Loading...":"You entered: "+this.state.pokemonName+". "+e.type.name+(t&&t.type.name?", "+t.type.name:""),this.state.pokemonImage?r.a.createElement("img",{src:this.state.pokemonImage.front_default,alt:"Not found"}):"")),r.a.createElement(D,{style:{padding:"10px"},typeChart:this.typeChart,damageCalcs:this.typingDamageCalcs}))}}]),a}(r.a.Component),x=a(299);var T=function(){return r.a.createElement("div",{className:"homePage"},r.a.createElement(x.a,{className:"toolbar"}),r.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[352,1,2]]]);
//# sourceMappingURL=main.6b061aa2.chunk.js.map